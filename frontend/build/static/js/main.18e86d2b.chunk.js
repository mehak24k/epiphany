(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,a){e.exports=a(142)},117:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(14),r=a.n(l),s=a(35),c=(a(117),a(20)),i=a(16),m=a(17),u=a(25),d=a(24),f=a(15),g=a(183),h=a(74),p=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(g.a,{collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark",fixed:"top"},o.a.createElement(g.a.Brand,{href:"/"},"Epiphany!"),o.a.createElement(g.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),o.a.createElement(g.a.Collapse,{id:"responsive-navbar-nav"},o.a.createElement(h.a,{className:"mr-auto"},"true"!=localStorage.getItem("loggedIn")&&o.a.createElement(h.a.Link,{href:"/login"},"Login"),"true"!=localStorage.getItem("loggedIn")&&o.a.createElement(h.a.Link,{href:"/signup"},"Signup")),o.a.createElement(h.a,null,"true"===localStorage.getItem("loggedIn")&&o.a.createElement(h.a.Link,{href:"/profile"},"Profile"),o.a.createElement(h.a.Link,{onClick:this.props.callback},"Logout"))))}}]),a}(n.Component),v=a(26),E=a.n(v),b=a(37),y=a(38),w=a.n(y),k=a(45),j=a(44),O=a(28),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={post:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,e.next=3,w.a.get("http://localhost:5000/posts/".concat(t.postId));case 3:a=e.sent.data,this.setState({post:a.json_post});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.post;if(null===e)return o.a.createElement("p",null,"Loading ...");var t=e.body;return console.log(e.tags),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"jumbotron col-12"},o.a.createElement("h1",{className:"display-3"},e.title),o.a.createElement(j.a,null,e.tags&&e.tags.map((function(e){return o.a.createElement(O.a,{style:{paddingLeft:2,paddingRight:2},md:"auto"},o.a.createElement("h4",null,o.a.createElement(k.a,{variant:"info"},e.name)))}))),o.a.createElement("hr",{className:"my-4"}),o.a.createElement("p",null,"Content:"),o.a.createElement("p",{className:"lead"},t.split("\n").map((function(e,t){return o.a.createElement("div",{key:t},e)}))))))}}]),a}(n.Component),C=a(60),L=a(102),N=a(23),I=a(48),x=a(96),P=a(181),T=a(182),K=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).colors=["#ffbaba","#ffddab","#fdffcf","#bdffb3","#b8fff9","#ffd1ea","#edc4ff"],n.state={posts:null,filteredPosts:null,tags:null,tagsList:null},n.filterPosts=n.filterPosts.bind(Object(m.a)(n)),n.filterTags=n.filterTags.bind(Object(m.a)(n)),n.deleteTag=n.deleteTag.bind(Object(m.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(E.a.mark((function e(){var t,a,n,o,l,r,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("http://localhost:5000/");case 2:for(l in t=e.sent.data,console.log(t.data[0]),a=t.data[0],n=t.data[1],console.log(a),o=[],a)o.push(a[l]);for(s in console.log(o),r=[],n)r.push(n[s]);this.setState({posts:o,filteredPosts:o,tagsList:r}),console.log(this.state.posts),console.log(this.state.filteredPosts),console.log(this.state.tagsList);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterPosts",value:function(e){this.setState({filteredPosts:this.state.posts.filter((function(t){return t.title.toLowerCase().includes(e.target.value.toLowerCase())||t.body.toLowerCase().includes(e.target.value.toLowerCase())}))})}},{key:"deleteTag",value:function(e){console.log(e.target.id);var t=[],a=(t=null===this.state.tags?[]:this.state.tags).indexOf(e.target.id);console.log(a),t.splice(a,1),this.setState({tags:t,filteredPosts:this.state.posts.filter((function(e){var a=0;return t.forEach((function(t){e.tags.forEach((function(e){e.name.toLowerCase().includes(t.toLowerCase())&&(a+=1)}))})),a===t.length}))}),console.log(t)}},{key:"filterTags",value:function(e){if(39===e.keyCode){var t=[];(t=null===this.state.tags?[]:this.state.tags).push(e.target.value),this.setState({tags:t,filteredPosts:this.state.posts.filter((function(e){var a=0;return t.forEach((function(t){e.tags.forEach((function(e){e.name.toLowerCase().includes(t.toLowerCase())&&(a+=1)}))})),a===t.length}))})}console.log(this.state.tags)}},{key:"getColor",value:function(){0===this.colors.length&&(this.colors=["#ffbaba","#ffddab","#fdffcf","#bdffb3","#b8fff9","#ffd1ea","#edc4ff"]);var e=this.colors.length,t=Math.floor(Math.random()*e),a=this.colors[t];return this.colors.splice(t,1),a}},{key:"render",value:function(){var e=this,t=this.state.tagsList;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement(O.a,null,o.a.createElement(N.a,null,o.a.createElement(N.a.Group,{controlId:"formSearch"},o.a.createElement(N.a.Control,{label:"freeSolo",type:"text",placeholder:"Search posts!",onChange:this.filterPosts}),o.a.createElement(N.a.Text,{className:"text-muted"},"Here, you can search with text that matches the title or body of the posts."))))),o.a.createElement("div",{className:"row"},o.a.createElement(j.a,{style:{paddingLeft:25}},this.state.tags&&this.state.tags.map((function(t){return o.a.createElement(x.a,{style:{paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:5},"aria-label":"Basic example"},o.a.createElement(I.a,{onClick:e.deleteTag,id:t,variant:"secondary"},"x"),o.a.createElement(I.a,{variant:"secondary"},t))})))),o.a.createElement("div",{className:"row"},this.state.tagsList&&o.a.createElement("div",{style:{width:1125,paddingLeft:15}},o.a.createElement(T.a,{id:"free-solo-demo",freeSolo:!0,options:t.map((function(e){return e.name})),renderInput:function(t){return o.a.createElement(P.a,Object.assign({},t,{id:"standard-full-width",label:"Search with tags!",margin:"normal",variant:"outlined",onKeyUp:e.filterTags}))}}))),o.a.createElement("div",{className:"row"},null===this.state.posts&&o.a.createElement("div",null," ",o.a.createElement(L.a,{animation:"border",variant:"primary"})," ",o.a.createElement("p",null,"Loading posts...")),this.state.filteredPosts&&this.state.filteredPosts.map((function(t){return o.a.createElement("div",{key:t.id,className:"col-sm-12 col-md-4 col-lg-3"},o.a.createElement(s.b,{to:"/post/".concat(t.id)},o.a.createElement("div",{className:"card mb-3",style:{backgroundColor:e.getColor(),color:"#161717",height:"250px"}},o.a.createElement("div",{className:"card-body"},o.a.createElement("h4",{className:"card-title"},t.title),o.a.createElement(j.a,null,t.tags&&t.tags.map((function(e){return o.a.createElement(O.a,{style:{paddingLeft:2,paddingRight:2},md:"auto"},o.a.createElement(k.a,{variant:"info"},e.name))}))),o.a.createElement("p",{className:"card-text",style:{maxLength:"100"}},o.a.createElement(C.a,{lines:2},t.body))))))}))))}}]),a}(n.Component),M=a(19),B=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",loggedIn:!1},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("loggedIn");console.log(e)}},{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={email:this.state.email,password:this.state.password},w.a.post("http://localhost:5000/login",a).then((function(e){localStorage.setItem("userName",e.data.user_info[0].name),localStorage.setItem("userEmail",n.state.email),localStorage.setItem("userPoints",e.data.user_info[0].points),localStorage.setItem("loggedIn",!0),n.setState({loggedIn:!0}),n.props.callback()}),(function(e){console.log("Looks like there was a problem: \n",e)})),t.preventDefault();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loggedIn?o.a.createElement(f.a,{to:"/"}):o.a.createElement(O.a,{md:{span:"4",offset:"4"}},o.a.createElement(N.a,{onSubmit:this.handleSubmit},o.a.createElement(N.a.Group,{controlId:"formGroupEmail"},o.a.createElement(N.a.Label,null,"Email address"),o.a.createElement(N.a.Control,{type:"email",name:"email",placeholder:"Enter email",email:this.state.email,onChange:this.handleChange})),o.a.createElement(N.a.Group,{controlId:"formGroupPassword"},o.a.createElement(N.a.Label,null,"Password"),o.a.createElement(N.a.Control,{type:"password",name:"password",placeholder:"Password",password:this.state.password,onChange:this.handleChange})),o.a.createElement(I.a,{variant:"success",type:"submit"},"Submit")))}}]),a}(n.Component),D=a(103),G=a(51),R=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={posts:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(E.a.mark((function e(){var t,a=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={email:localStorage.getItem("userEmail")},console.log(t),w.a.post("http://localhost:5000/profile",t).then((function(e){console.log(e.data.posts);var t=e.data.posts,n=[];for(var o in t)n.push(t[o]);a.setState({posts:n})}),(function(e){console.log("Looks like there was a problem: \n",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(D.a,{defaultActiveKey:"profile",id:"uncontrolled-tab-example"},o.a.createElement(G.a,{eventKey:"profile",title:"Profile"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"jumbotron col-12"},o.a.createElement("h1",{className:"display-3"},localStorage.getItem("userName")),o.a.createElement("h2",{className:"display-3"},"Points: ",localStorage.getItem("userPoints"))))),o.a.createElement(G.a,{eventKey:"posts",title:"Posts"},o.a.createElement("div",{className:"row"},this.state.posts&&this.state.posts.map((function(e){return o.a.createElement("div",{key:e.id,className:"col-sm-12 col-md-4 col-lg-3"},o.a.createElement(s.b,{to:"/post/".concat(e.id)},o.a.createElement("div",{className:"card mb-3",style:{backgroundColor:"#abd5de",color:"#161717",height:"250px"}},o.a.createElement("div",{className:"card-body"},o.a.createElement("h4",{className:"card-title"},e.title),o.a.createElement(j.a,null,e.tags&&e.tags.map((function(e){return o.a.createElement(O.a,{style:{paddingLeft:2,paddingRight:2},md:"auto"},o.a.createElement(k.a,{variant:"info"},e.name))}))),o.a.createElement("p",{className:"card-text",style:{maxLength:"100"}},o.a.createElement(C.a,{lines:2},e.body))))))})))),o.a.createElement(G.a,{eventKey:"followers",title:"Followers"},"hello again"),o.a.createElement(G.a,{eventKey:"following",title:"Following"},"hello again2")))}}]),a}(n.Component),_=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).logout=n.logout.bind(Object(m.a)(n)),n.login=n.login.bind(Object(m.a)(n)),n.state={login:!1},n}return Object(i.a)(a,[{key:"login",value:function(){this.setState({login:!0})}},{key:"logout",value:function(){localStorage.clear(),this.setState({login:!1})}},{key:"render",value:function(){var e=this,t=localStorage.getItem("loggedIn");return console.log(t),o.a.createElement("div",null,o.a.createElement(p,{callback:this.logout}),o.a.createElement(f.b,{exact:!0,path:"/",component:K}),o.a.createElement(f.b,{exact:!0,path:"/post/:postId",component:S}),"true"!=localStorage.getItem("loggedIn")&&o.a.createElement(f.b,{exact:!0,path:"/login",component:function(){return o.a.createElement(B,{callback:e.login})}}),o.a.createElement(f.b,{exact:!0,path:"/profile",component:R}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(s.a,null,o.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[112,1,2]]]);
//# sourceMappingURL=main.18e86d2b.chunk.js.map