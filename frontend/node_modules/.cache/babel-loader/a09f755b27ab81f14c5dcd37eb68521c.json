{"ast":null,"code":"import _defineProperty from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Col from'react-bootstrap/Col';import{Redirect}from\"react-router-dom\";var UpdatePost=/*#__PURE__*/function(_Component){_inherits(UpdatePost,_Component);var _super=_createSuper(UpdatePost);function UpdatePost(props){var _this;_classCallCheck(this,UpdatePost);_this=_super.call(this,props);_this.state={title:'',body:'',updated:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(UpdatePost,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var params,post;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=this.props.match.params;_context.next=3;return axios.get(\"https://epiphany-test-three.herokuapp.com/posts/\".concat(params.postId,\"/update\"));case 3:post=_context.sent.data;console.log(post.json_post.body);this.setState({title:post.json_post.body,body:post.json_post.body});case 6:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var _this2=this;var params,postData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:params=this.props.match.params;postData={\"title\":this.state.title,\"body\":this.state.body,\"user\":localStorage.getItem(\"userEmail\")};axios.post(\"https://epiphany-test-three.herokuapp.com/posts/\".concat(params.postId,\"/update\"),postData).then(function(response){console.log(response);_this2.setState({updated:true});},function(error){console.log('Looks like there was a problem: \\n',error);});event.preventDefault();case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){var redirectTo=this.state.updated;var params=this.props.match.params;if(redirectTo){return/*#__PURE__*/React.createElement(Redirect,{to:\"/post/\".concat(params.postId)});}return/*#__PURE__*/React.createElement(Col,{style:{paddingLeft:200,paddingRight:200}},/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupTitle\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Title\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",name:\"title\",value:this.state.title,onChange:this.handleChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Body\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",rows:\"15\",name:\"body\",value:this.state.body,onChange:this.handleChange})),/*#__PURE__*/React.createElement(Button,{variant:\"success\",type:\"submit\"},\"Submit\")));}}]);return UpdatePost;}(Component);export default UpdatePost;","map":null,"metadata":{},"sourceType":"module"}