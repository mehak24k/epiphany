{"ast":null,"code":"var _jsxFileName = \"/Users/yx/epiphany/frontend/src/Post/Post.js\";\nimport React, { Component, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Badge from 'react-bootstrap/Badge';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Media from 'react-bootstrap/Media';\nimport Form from 'react-bootstrap/Form';\nimport Collapse from 'react-bootstrap/Collapse';\nimport Alert from 'react-bootstrap/Alert';\nimport ResponsiveEmbed from 'react-bootstrap/ResponsiveEmbed';\nimport { IoIosArrowDropup } from \"react-icons/io\";\nimport { IoIosArrowDropupCircle } from \"react-icons/io\";\nimport { IoIosArrowDropdown } from \"react-icons/io\";\nimport { IoIosArrowDropdownCircle } from \"react-icons/io\";\nimport Spinner from 'react-bootstrap/Spinner';\n\nclass Post extends Component {\n  constructor(_props) {\n    super(_props);\n\n    this.Reply = props => {\n      const [open, setOpen] = useState(false);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        variant: \"link\",\n        onClick: () => setOpen(!open),\n        \"aria-controls\": \"example-collapse-text\",\n        \"aria-expanded\": open,\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 9\n        }\n      }, \"Reply\"), /*#__PURE__*/React.createElement(Collapse, {\n        in: open,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        onSubmit: e => this.replyTo(e, props.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form.Group, {\n        controlId: \"text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"textarea\",\n        name: \"reply\",\n        placeholder: \"Reply here!\",\n        reply: this.state.reply,\n        onChange: this.updateComment,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        variant: \"success\",\n        type: \"submit\",\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 17\n        }\n      }, \"Reply\")))));\n    };\n\n    this.Delete = props => {\n      return /*#__PURE__*/React.createElement(Button, {\n        variant: \"link\",\n        size: \"sm\",\n        onClick: e => this.deleteComment(e, props.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 7\n        }\n      }, \"Delete\");\n    };\n\n    this.commentBox = () => {\n      if (localStorage.getItem('loggedIn') === \"true\") {\n        return /*#__PURE__*/React.createElement(Form, {\n          onSubmit: this.submit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Form.Group, {\n          controlId: \"text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Form.Control, {\n          as: \"textarea\",\n          name: \"text\",\n          placeholder: \"Any comments?\",\n          text: this.state.text,\n          onChange: this.updateComment,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }\n        })), /*#__PURE__*/React.createElement(Button, {\n          variant: \"success\",\n          type: \"submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 11\n          }\n        }, \"Comment\"));\n      } else {\n        return /*#__PURE__*/React.createElement(Form, {\n          onSubmit: this.submit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Form.Group, {\n          controlId: \"text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Form.Control, {\n          as: \"textarea\",\n          name: \"text\",\n          placeholder: \"Login to begin commenting!\",\n          text: this.state.text,\n          onChange: this.updateComment,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }\n        })), /*#__PURE__*/React.createElement(Button, {\n          variant: \"success\",\n          disabled: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 11\n          }\n        }, \"Comment\"));\n      }\n    };\n\n    this.Upvote = props => {\n      if (props.currEmail !== null && props.currEmail === props.commentEmail) {\n        return /*#__PURE__*/React.createElement(Button, {\n          variant: \"link\",\n          size: \"sm\",\n          onClick: e => this.upvoteComment(e, props.id),\n          disabled: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle-outline.svg\",\n          style: {\n            height: 20,\n            width: 20\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 9\n          }\n        }));\n      }\n\n      if (props.liked) {\n        return /*#__PURE__*/React.createElement(Button, {\n          variant: \"link\",\n          size: \"sm\",\n          onClick: e => this.upvoteComment(e, props.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle.svg\",\n          style: {\n            height: 20,\n            width: 20\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 9\n          }\n        }));\n      } else {\n        if (props.disliked) {\n          return /*#__PURE__*/React.createElement(Button, {\n            variant: \"link\",\n            size: \"sm\",\n            onClick: e => this.upvoteComment(e, props.id),\n            disabled: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: \"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle-outline.svg\",\n            style: {\n              height: 20,\n              width: 20\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 11\n            }\n          }));\n        } else {\n          return /*#__PURE__*/React.createElement(Button, {\n            variant: \"link\",\n            size: \"sm\",\n            onClick: e => this.upvoteComment(e, props.id),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: \"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle-outline.svg\",\n            style: {\n              height: 20,\n              width: 20\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 11\n            }\n          }));\n        }\n      }\n    };\n\n    this.Downvote = props => {\n      if (props.currEmail !== null && props.currEmail === props.commentEmail) {\n        return /*#__PURE__*/React.createElement(Button, {\n          variant: \"link\",\n          size: \"sm\",\n          onClick: e => this.downvoteComment(e, props.id),\n          disabled: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle-outline.svg\",\n          style: {\n            height: 20,\n            width: 20\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 9\n          }\n        }));\n      }\n\n      if (props.disliked) {\n        return /*#__PURE__*/React.createElement(Button, {\n          variant: \"link\",\n          size: \"sm\",\n          onClick: e => this.downvoteComment(e, props.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle.svg\",\n          style: {\n            height: 20,\n            width: 20\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 9\n          }\n        }));\n      } else {\n        if (props.liked) {\n          return /*#__PURE__*/React.createElement(Button, {\n            variant: \"link\",\n            size: \"sm\",\n            onClick: e => this.downvoteComment(e, props.id),\n            disabled: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: \"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle-outline.svg\",\n            style: {\n              height: 20,\n              width: 20\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 11\n            }\n          }));\n        } else {\n          return /*#__PURE__*/React.createElement(Button, {\n            variant: \"link\",\n            size: \"sm\",\n            onClick: e => this.downvoteComment(e, props.id),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: \"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle-outline.svg\",\n            style: {\n              height: 20,\n              width: 20\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 11\n            }\n          }));\n        }\n      }\n    };\n\n    this.state = {\n      post: null,\n      text: '',\n      postId: 0,\n      deleted: false,\n      commented: false,\n      reply: '',\n      replied: false,\n      c_deleted: false,\n      c_upvoted: false,\n      c_downvoted: false,\n      text: '',\n      postId: 0,\n      deleted: false,\n      commented: false,\n      upvoted: false,\n      downvoted: false,\n      errorMessage: '',\n      upvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle-outline.svg\",\n      downvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle-outline.svg\"\n    };\n    this.submit = this.submit.bind(this);\n    this.updateComment = this.updateComment.bind(this);\n    this.deletePost = this.deletePost.bind(this);\n    this.replyTo = this.replyTo.bind(this);\n    this.Reply = this.Reply.bind(this);\n    this.upvote = this.upvote.bind(this);\n    this.downvote = this.downvote.bind(this);\n    this.upvoteComment = this.upvoteComment.bind(this);\n    this.downvoteComment = this.downvoteComment.bind(this);\n  }\n\n  async componentDidMount() {\n    this.refreshPost();\n  }\n\n  async refreshPost() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n\n    if (localStorage.getItem(\"loggedIn\") === \"true\") {\n      // only if user is logged in -- for getting the state of liked the post / liked the comments\n      let loginData = {\n        \"email\": localStorage.getItem(\"userEmail\")\n      };\n      axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}`, loginData).then(response => {\n        console.log(response.data[0].json_post);\n        console.log(response.data);\n        this.setState({\n          upvoted: response.data[1].data[0].liked,\n          downvoted: response.data[1].data[0].disliked,\n          post: response.data[0].json_post,\n          postId: params.postId,\n          deleted: false,\n          commented: false,\n          text: '',\n          reply: '',\n          replied: false,\n          c_deleted: false,\n          commented: false\n        });\n      }, error => {\n        console.log('Looks like there was a problem: \\n', error);\n      });\n    } else {\n      const post = (await axios.get(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}`)).data;\n      this.setState({\n        post: post.json_post,\n        postId: params.postId,\n        deleted: false,\n        commented: false,\n        text: '',\n        reply: '',\n        replied: false,\n        c_deleted: false,\n        commented: false\n      });\n    }\n  }\n\n  updateComment(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async submit(event) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"text\": this.state.text,\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"post_id\": params.postId\n    };\n    console.log(postData);\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/comment`, postData).then(response => {\n      this.setState({\n        commented: true\n      });\n      console.log(response);\n      this.refreshPost();\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async deletePost() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"text\": this.state.text,\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"post_id\": params.postId\n    };\n    console.log(postData);\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/delete`, postData).then(response => {\n      this.setState({\n        deleted: true\n      });\n      this.refreshPost();\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n  }\n\n  async deleteComment(event, id) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/${id}/delete`).then(response => {\n      console.log(response);\n      this.setState({\n        c_deleted: true\n      });\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async upvote(event) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"post_id\": params.postId\n    };\n    console.log(postData);\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/upvote`, postData).then(response => {\n      console.log(response);\n\n      if (this.state.upvoted) {\n        this.setState({\n          upvoted: false\n        });\n      } else {\n        this.setState({\n          upvoted: true\n        });\n      }\n\n      this.refreshPost();\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async replyTo(event, id) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"text\": this.state.reply,\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"post_id\": params.postId,\n      \"parent_id\": id\n    };\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/${id}/reply`, postData).then(response => {\n      this.setState({\n        replied: true\n      });\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async downvote(event) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"post_id\": params.postId\n    };\n    console.log(postData);\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/downvote`, postData).then(response => {\n      console.log(response);\n\n      if (this.state.downvoted) {\n        this.setState({\n          downvoted: false\n        });\n      } else {\n        this.setState({\n          downvoted: true\n        });\n      }\n\n      this.refreshPost();\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async upvoteComment(event, id) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"comment_id\": id\n    };\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/${id}/upvote`, postData).then(response => {\n      console.log(response);\n\n      if (this.state.c_upvoted === true) {\n        this.setState({\n          c_upvoted: false,\n          upvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle-outline.svg\"\n        });\n      } else {\n        this.setState({\n          c_upvoted: true,\n          upvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle.svg\"\n        });\n      }\n\n      this.refreshPost();\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async downvoteComment(event, id) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"comment_id\": id\n    };\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/${id}/downvote`, postData).then(response => {\n      console.log(response);\n\n      if (this.state.c_downvoted === true) {\n        this.setState({\n          c_downvoted: false,\n          downvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle-outline.svg\"\n        });\n      } else {\n        this.setState({\n          c_downvoted: true,\n          downvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle.svg\"\n        });\n      }\n\n      this.refreshPost();\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    // checking for deleted post\n    const deleted = this.state.deleted;\n    const commented = this.state.commented;\n    const replied = this.state.replied;\n    const c_deleted = this.state.c_deleted;\n\n    if (deleted) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 9\n        }\n      });\n    }\n\n    if (commented || replied || c_deleted) {\n      this.refreshPost();\n    }\n\n    const {\n      post\n    } = this.state;\n\n    if (post === null) {\n      return /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Spinner, {\n        animation: \"border\",\n        variant: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 20\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 69\n        }\n      }, \"Loading ...\"));\n    }\n\n    var text = post.body;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 7\n      }\n    }, post === null && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 31\n      }\n    }, \"Loading ...\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }\n    }, this.state.errorMessage && /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 13\n      }\n    }, \" \", this.state.errorMessage, \" \"), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"display-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 13\n      }\n    }, post.title), /*#__PURE__*/React.createElement(Row, {\n      className: \"ml-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 13\n      }\n    }, post.tags && post.tags.map(tag => /*#__PURE__*/React.createElement(Col, {\n      style: {\n        paddingLeft: 2,\n        paddingRight: 2\n      },\n      md: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Badge, {\n      variant: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 17\n      }\n    }, tag.name))))), /*#__PURE__*/React.createElement(Row, {\n      className: \"ml-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 13\n      }\n    }, \"Posted by\\xA0\", /*#__PURE__*/React.createElement(Link, {\n      to: `/users/${post.user_id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 30\n      }\n    }, post.username), \"\\xA0at \", post.time), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 13\n      }\n    }), !post.is_file && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"lead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 15\n      }\n    }, text.split(\"\\n\").map((i, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 30\n        }\n      }, i);\n    })), post.is_file && /*#__PURE__*/React.createElement(\"div\", {\n      id: \"theVideo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ResponsiveEmbed, {\n      aspectRatio: \"16by9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"video\", {\n      id: \"samp\",\n      width: \"640\",\n      height: \"480\",\n      controls: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"source\", {\n      src: `https://epiphany-test-three.herokuapp.com/static/${post.body}`,\n      type: \"video/mp4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 23\n      }\n    }), \"Your browser does not support this video format.\"))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 15\n      }\n    }, \" \", post.upvotes, \" likes \")), /*#__PURE__*/React.createElement(Col, {\n      md: {\n        offset: \"7\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 15\n      }\n    }, localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') !== post.user_email && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: {\n        offset: \"5\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 17\n      }\n    }, this.state.downvoted && /*#__PURE__*/React.createElement(ButtonGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IoIosArrowDropup, {\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      onClick: this.downvote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IoIosArrowDropdownCircle, {\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 27\n      }\n    }))), this.state.upvoted && /*#__PURE__*/React.createElement(ButtonGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      onClick: this.upvote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IoIosArrowDropupCircle, {\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IoIosArrowDropdown, {\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 27\n      }\n    }))), !this.state.downvoted && !this.state.upvoted && /*#__PURE__*/React.createElement(ButtonGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      onClick: this.upvote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IoIosArrowDropup, {\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      onClick: this.downvote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IoIosArrowDropdown, {\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 27\n      }\n    })))))))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 15\n      }\n    }, localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === post.user_email && !post.is_file && /*#__PURE__*/React.createElement(Link, {\n      to: `${post.id}/update`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-success\",\n      style: {\n        marginRight: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 46\n      }\n    }, \"Update\")), localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === post.user_email && /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-danger\",\n      onClick: () => {\n        this.deletePost();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 15\n      }\n    }, \"Delete\"))), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(this.commentBox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 13\n      }\n    }), post.comments.map(comment => comment.comment_level === 1 ? /*#__PURE__*/React.createElement(Media, {\n      className: \"mt-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Media.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 31\n      }\n    }, comment.commentor), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 31\n      }\n    }, comment.text.split(\"\\n\").map((i, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 42\n        }\n      }, i, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 36\n        }\n      }, comment.commentor !== \"deleted\" && comment.time, comment.commentor !== \"deleted\" && /*#__PURE__*/React.createElement(this.Upvote, {\n        id: comment.comment_id,\n        liked: comment.liked,\n        disliked: comment.disliked,\n        currEmail: localStorage.getItem('userEmail'),\n        commentEmail: comment.user_email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 40\n        }\n      }), comment.commentor !== \"deleted\" && comment.comment_upvotes, comment.commentor !== \"deleted\" && /*#__PURE__*/React.createElement(this.Downvote, {\n        id: comment.comment_id,\n        liked: comment.liked,\n        disliked: comment.disliked,\n        currEmail: localStorage.getItem('userEmail'),\n        commentEmail: comment.user_email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 40\n        }\n      }), localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === comment.user_email && /*#__PURE__*/React.createElement(this.Delete, {\n        id: comment.comment_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 40\n        }\n      }), comment.commentor !== \"deleted\" && /*#__PURE__*/React.createElement(this.Reply, {\n        id: comment.comment_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 72\n        }\n      }))));\n    })))) : comment.comment_level === 2 ? /*#__PURE__*/React.createElement(Media, {\n      className: \"ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Media.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 29\n      }\n    }, comment.commentor), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 31\n      }\n    }, comment.text.split(\"\\n\").map((i, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 44\n        }\n      }, i, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 42\n        }\n      }, comment.commentor !== \"deleted\" && comment.time, comment.commentor !== \"deleted\" && /*#__PURE__*/React.createElement(this.Upvote, {\n        id: comment.comment_id,\n        liked: comment.liked,\n        disliked: comment.disliked,\n        currEmail: localStorage.getItem('userEmail'),\n        commentEmail: comment.user_email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 48\n        }\n      }), comment.commentor !== \"deleted\" && comment.comment_upvotes, comment.commentor !== \"deleted\" && /*#__PURE__*/React.createElement(this.Downvote, {\n        id: comment.comment_id,\n        liked: comment.liked,\n        disliked: comment.disliked,\n        currEmail: localStorage.getItem('userEmail'),\n        commentEmail: comment.user_email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 48\n        }\n      }), localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === comment.user_email && /*#__PURE__*/React.createElement(this.Delete, {\n        id: comment.comment_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 46\n        }\n      }), comment.commentor !== \"deleted\" && /*#__PURE__*/React.createElement(this.Reply, {\n        id: comment.comment_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 78\n        }\n      }))));\n    })))) : /*#__PURE__*/React.createElement(Media, {\n      className: \"ml-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Media.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 31\n      }\n    }, comment.commentor), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 33\n      }\n    }, comment.text.split(\"\\n\").map((i, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 46\n        }\n      }, i, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 44\n        }\n      }, comment.commentor !== \"deleted\" && comment.time, comment.commentor !== \"deleted\" && /*#__PURE__*/React.createElement(this.Upvote, {\n        id: comment.comment_id,\n        liked: comment.liked,\n        disliked: comment.disliked,\n        currEmail: localStorage.getItem('userEmail'),\n        commentEmail: comment.user_email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 48\n        }\n      }), comment.commentor !== \"deleted\" && comment.comment_upvotes, comment.commentor !== \"deleted\" && /*#__PURE__*/React.createElement(this.Downvote, {\n        id: comment.comment_id,\n        liked: comment.liked,\n        disliked: comment.disliked,\n        currEmail: localStorage.getItem('userEmail'),\n        commentEmail: comment.user_email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 48\n        }\n      }), localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === comment.user_email && /*#__PURE__*/React.createElement(this.Delete, {\n        id: comment.comment_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 48\n        }\n      }), comment.commentor !== \"deleted\" && /*#__PURE__*/React.createElement(this.Reply, {\n        id: comment.comment_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 80\n        }\n      }))));\n    }))))))));\n  }\n\n}\n\nexport default Post;","map":{"version":3,"sources":["/Users/yx/epiphany/frontend/src/Post/Post.js"],"names":["React","Component","useState","Redirect","Link","axios","Badge","Row","Col","Button","ButtonGroup","Media","Form","Collapse","Alert","ResponsiveEmbed","IoIosArrowDropup","IoIosArrowDropupCircle","IoIosArrowDropdown","IoIosArrowDropdownCircle","Spinner","Post","constructor","props","Reply","open","setOpen","e","replyTo","id","state","reply","updateComment","Delete","deleteComment","commentBox","localStorage","getItem","submit","text","Upvote","currEmail","commentEmail","upvoteComment","height","width","liked","disliked","Downvote","downvoteComment","post","postId","deleted","commented","replied","c_deleted","c_upvoted","c_downvoted","upvoted","downvoted","errorMessage","upvoteButton","downvoteButton","bind","deletePost","upvote","downvote","componentDidMount","refreshPost","match","params","loginData","then","response","console","log","data","json_post","setState","error","get","event","target","name","value","postData","preventDefault","render","body","title","tags","map","tag","paddingLeft","paddingRight","user_id","username","time","is_file","split","i","key","upvotes","offset","user_email","marginRight","comments","comment","comment_level","commentor","comment_id","comment_upvotes"],"mappings":"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","sourcesContent":["import React, {Component, useState} from 'react';\nimport { Redirect } from 'react-router-dom';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport Badge from 'react-bootstrap/Badge'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\nimport Media from 'react-bootstrap/Media'\nimport Form from 'react-bootstrap/Form'\nimport Collapse from 'react-bootstrap/Collapse'\nimport Alert from 'react-bootstrap/Alert'\nimport ResponsiveEmbed from 'react-bootstrap/ResponsiveEmbed'\nimport { IoIosArrowDropup } from \"react-icons/io\";\nimport { IoIosArrowDropupCircle } from \"react-icons/io\";\nimport { IoIosArrowDropdown } from \"react-icons/io\";\nimport { IoIosArrowDropdownCircle } from \"react-icons/io\";\nimport Spinner from 'react-bootstrap/Spinner'\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: null,\n      text: '',\n      postId: 0,\n      deleted: false,\n      commented: false,\n      reply: '',\n      replied: false,\n      c_deleted: false,\n      c_upvoted: false,\n      c_downvoted: false,\n      text:'',\n      postId: 0,\n      deleted: false,\n      commented: false,\n      upvoted: false,\n      downvoted: false,\n      errorMessage: '',\n      upvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle-outline.svg\",\n      downvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle-outline.svg\"\n    };\n    this.submit = this.submit.bind(this);\n    this.updateComment = this.updateComment.bind(this);\n    this.deletePost = this.deletePost.bind(this);\n    this.replyTo = this.replyTo.bind(this);\n    this.Reply = this.Reply.bind(this);\n    this.upvote = this.upvote.bind(this);\n    this.downvote = this.downvote.bind(this);\n    this.upvoteComment = this.upvoteComment.bind(this);\n    this.downvoteComment = this.downvoteComment.bind(this);\n  }\n\n  async componentDidMount() {\n    this.refreshPost();\n  }\n  async refreshPost() {\n    const { match: { params } } = this.props;\n    if (localStorage.getItem(\"loggedIn\") === \"true\") {\n      // only if user is logged in -- for getting the state of liked the post / liked the comments\n      let loginData = {\"email\": localStorage.getItem(\"userEmail\")}\n      axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}`, loginData)\n      .then((response) => {\n        console.log(response.data[0].json_post);\n        \n        console.log(response.data);\n        this.setState({\n          upvoted: response.data[1].data[0].liked,\n          downvoted: response.data[1].data[0].disliked,\n          post: response.data[0].json_post,\n          postId: params.postId,\n          deleted: false,\n          commented: false,\n          text: '',\n          reply: '',\n          replied: false,\n          c_deleted: false,\n          commented: false,\n        });\n        \n        \n      }, (error) => {\n        console.log('Looks like there was a problem: \\n', error);\n      });\n    } else {\n      const post = (await axios.get(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}`)).data;\n      this.setState({\n        post: post.json_post,\n        postId: params.postId,\n        deleted: false,\n        commented: false,\n        text: '',\n        reply: '',\n        replied: false,\n        c_deleted: false,\n        commented: false,\n      });\n    }\n    \n  }\n\n  updateComment(event) {\n    this.setState({\n        [event.target.name]: event.target.value\n      });\n  }\n\n  async submit(event) {\n    const { match: { params } } = this.props;\n    let postData = {\"text\": this.state.text, \"user_email\": localStorage.getItem('userEmail'), \"post_id\": params.postId};\n    console.log(postData);\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/comment`, postData)\n    .then((response) => {\n      this.setState({\n        commented: true,\n      })\n      console.log(response);\n      this.refreshPost();\n    }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async deletePost() {\n    const { match: { params } } = this.props;\n    let postData = {\"text\": this.state.text, \"user_email\": localStorage.getItem('userEmail'), \"post_id\": params.postId}\n    console.log(postData);\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/delete`, postData)\n    .then((response) => {\n      this.setState({\n        deleted: true,\n      })\n      this.refreshPost();\n    }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n  }\n\n  async deleteComment(event, id) {\n    const { match: { params } } = this.props;\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/${id}/delete`)\n    .then((response) => {\n      console.log(response);\n      this.setState({\n        c_deleted: true,\n      })\n    }, (error) => {\n    console.log('Looks like there was a problem: \\n', error);\n  });\n  event.preventDefault();\n}\n  async upvote(event) {\n    const { match: { params } } = this.props;\n    let postData = {\"user_email\": localStorage.getItem('userEmail'), \"post_id\": params.postId}\n    console.log(postData);\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/upvote`, postData)\n    .then((response) => {\n      console.log(response);\n      if (this.state.upvoted) {\n        this.setState({\n          upvoted: false,\n        })\n      } else {\n        this.setState({\n          upvoted: true,\n        })\n      }\n        this.refreshPost();\n    }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async replyTo(event, id) {\n      const { match: { params } } = this.props;\n      let postData = {\"text\": this.state.reply, \"user_email\": localStorage.getItem('userEmail'), \"post_id\": params.postId, \"parent_id\": id}\n      axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/${id}/reply`, postData)\n      .then((response) => {\n        this.setState({\n          replied: true,\n        })\n      }, (error) => {\n        console.log('Looks like there was a problem: \\n', error);\n      });\n      event.preventDefault();\n    }\n\n  async downvote(event) {\n    const { match: { params } } = this.props;\n    let postData = {\"user_email\": localStorage.getItem('userEmail'), \"post_id\": params.postId}\n    console.log(postData);\n    axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/downvote`, postData)\n    .then((response) => {\n      console.log(response);\n      if (this.state.downvoted) {\n        this.setState({\n          downvoted: false,\n        })\n      } else {\n        this.setState({\n          downvoted: true,\n        })\n      }\n        this.refreshPost();\n      }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  Reply = (props) => {\n    const [open, setOpen] = useState(false);\n\n    return (\n      <>\n        <Button variant=\"link\"\n          onClick={() => setOpen(!open)}\n          aria-controls=\"example-collapse-text\"\n          aria-expanded={open}\n          size=\"sm\"\n        >\n        Reply\n        </Button>\n        <Collapse in={open}>\n          <div className=\"mt-1\">\n            <Form onSubmit={(e) => this.replyTo(e, props.id)}>\n                <Form.Group controlId=\"text\">\n                    <Form.Control as=\"textarea\" name=\"reply\" placeholder=\"Reply here!\" reply={this.state.reply} onChange={this.updateComment} />\n                </Form.Group>\n                <Button variant=\"success\" type=\"submit\" size=\"sm\">Reply</Button>\n            </Form>\n          </div>\n        </Collapse>\n      </>\n    );\n  }\n\n  Delete = (props) => {\n    return  (\n      <Button\n        variant=\"link\"\n        size=\"sm\"\n        onClick={(e) => this.deleteComment(e, props.id)}\n      >\n        Delete\n      </Button>\n    );\n  }\n  \n  commentBox = () => {\n    if (localStorage.getItem('loggedIn') === \"true\") {\n      return (\n        <Form onSubmit={this.submit}>\n          <Form.Group controlId=\"text\">\n              <Form.Control as=\"textarea\" name=\"text\" placeholder=\"Any comments?\" text={this.state.text} onChange={this.updateComment} />\n          </Form.Group>\n          <Button variant=\"success\" type=\"submit\">Comment</Button>\n        </Form>\n      );\n    } else {\n      return (\n        <Form onSubmit={this.submit}>\n          <Form.Group controlId=\"text\">\n              <Form.Control as=\"textarea\" name=\"text\" placeholder=\"Login to begin commenting!\" text={this.state.text} onChange={this.updateComment} />\n          </Form.Group>\n          <Button variant=\"success\" disabled>Comment</Button>\n        </Form>\n      );\n    }\n  }\n\n  async upvoteComment(event, id) {\n      const { match: { params } } = this.props;\n      let postData = {\"user_email\": localStorage.getItem('userEmail'), \"comment_id\": id}\n      axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/${id}/upvote`, postData)\n      .then((response) => {\n        console.log(response);\n        if (this.state.c_upvoted === true) {\n          this.setState({\n            c_upvoted: false,\n            upvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle-outline.svg\",\n          })\n        } else {\n          this.setState({\n            c_upvoted: true,\n            upvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle.svg\",\n          })\n        }\n        this.refreshPost();\n      }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async downvoteComment(event, id) {\n      const { match: { params } } = this.props;\n      let postData = {\"user_email\": localStorage.getItem('userEmail'), \"comment_id\": id}\n      axios.post(`https://epiphany-test-three.herokuapp.com/posts/${params.postId}/${id}/downvote`, postData)\n      .then((response) => {\n        console.log(response);\n        if (this.state.c_downvoted === true) {\n          this.setState({\n            c_downvoted: false,\n            downvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle-outline.svg\",\n          })\n        } else {\n          this.setState({\n            c_downvoted: true,\n            downvoteButton: \"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle.svg\",\n          })\n        }\n        this.refreshPost();\n      }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  Upvote = (props) => {\n    if (props.currEmail !== null && props.currEmail === props.commentEmail) {\n      return  (\n        <Button\n          variant=\"link\"\n          size=\"sm\"\n          onClick={(e) => this.upvoteComment(e, props.id)}\n          disabled\n        >\n        <img src=\"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle-outline.svg\" style={{height: 20, width: 20}}></img>\n        </Button>\n      );\n    }\n    if (props.liked) {\n      return  (\n        <Button\n          variant=\"link\"\n          size=\"sm\"\n          onClick={(e) => this.upvoteComment(e, props.id)}\n        >\n        <img src=\"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle.svg\" style={{height: 20, width: 20}}></img>\n        </Button>\n      );\n    } else {\n      if (props.disliked) {\n        return  (\n          <Button\n            variant=\"link\"\n            size=\"sm\"\n            onClick={(e) => this.upvoteComment(e, props.id)}\n            disabled\n          >\n          <img src=\"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle-outline.svg\" style={{height: 20, width: 20}}></img>\n          </Button>\n        );\n      } else {\n        return  (\n          <Button\n            variant=\"link\"\n            size=\"sm\"\n            onClick={(e) => this.upvoteComment(e, props.id)}\n          >\n          <img src=\"https://epiphany-test-three.herokuapp.com/static/chevron-up-circle-outline.svg\" style={{height: 20, width: 20}}></img>\n          </Button>\n        );\n      }\n    }\n  }\n\n  Downvote = (props) => {\n    if (props.currEmail !== null && props.currEmail === props.commentEmail) {\n      return  (\n        <Button\n          variant=\"link\"\n          size=\"sm\"\n          onClick={(e) => this.downvoteComment(e, props.id)}\n          disabled\n        >\n        <img src=\"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle-outline.svg\" style={{height: 20, width: 20}}></img>\n        </Button>\n      );\n    }\n    if (props.disliked) {\n      return  (\n        <Button\n          variant=\"link\"\n          size=\"sm\"\n          onClick={(e) => this.downvoteComment(e, props.id)}\n        >\n        <img src=\"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle.svg\" style={{height: 20, width: 20}}></img>\n        </Button>\n      );\n    } else {\n      if (props.liked) {\n        return  (\n          <Button\n            variant=\"link\"\n            size=\"sm\"\n            onClick={(e) => this.downvoteComment(e, props.id)}\n            disabled\n          >\n          <img src=\"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle-outline.svg\" style={{height: 20, width: 20}}></img>\n          </Button>\n        );\n      } else {\n        return  (\n          <Button\n            variant=\"link\"\n            size=\"sm\"\n            onClick={(e) => this.downvoteComment(e, props.id)}\n          >\n          <img src=\"https://epiphany-test-three.herokuapp.com/static/chevron-down-circle-outline.svg\" style={{height: 20, width: 20}}></img>\n          </Button>\n        );\n      }\n    }\n  }\n\n\n  render() {\n    // checking for deleted post\n    const deleted = this.state.deleted;\n    const commented = this.state.commented;\n    const replied = this.state.replied;\n    const c_deleted = this.state.c_deleted;\n    if (deleted) {\n      return (\n        <Redirect to=\"/\" />\n      );\n    }\n    if (commented || replied || c_deleted) {\n      this.refreshPost();\n    }\n    const {post} = this.state;\n    if (post === null) {\n      return (<Col><Spinner animation=\"border\" variant=\"primary\" /> <p>Loading ...</p></Col>);\n    } \n    var text = post.body\n    return (\n      <div className=\"container\">\n            {post === null && <p>Loading ...</p>}\n        <div className=\"row\">\n          <div className=\"jumbotron col-12\">\n          { this.state.errorMessage &&\n            <Alert variant='danger'> { this.state.errorMessage } </Alert> }\n            <h1 className=\"display-3\">{post.title}</h1>\n            <Row className=\"ml-1\">\n            {post.tags && post.tags.map(tag => (\n              <Col style={{ paddingLeft: 2, paddingRight: 2 }} md=\"auto\">\n                <h4>\n                <Badge variant=\"info\">{tag.name}</Badge>\n                </h4>\n              </Col>\n              ))\n            }\n            </Row>\n            <Row className=\"ml-1\">\n              Posted by&nbsp;<Link to={`/users/${post.user_id}`}>{ post.username }</Link>&nbsp;at { post.time }\n            </Row>\n            <hr className=\"my-4\" />\n            {!post.is_file &&\n              <p className=\"lead\">\n                  {text.split(\"\\n\").map((i,key) => {\n                      return <div key={key}>{i}</div>;\n                  })}\n              </p>\n            }\n            {post.is_file &&\n              <div id=\"theVideo\">\n              <ResponsiveEmbed aspectRatio=\"16by9\">\n                  <video id=\"samp\" width=\"640\" height=\"480\" controls>\n                      <source src={`https://epiphany-test-three.herokuapp.com/static/${post.body}`} type=\"video/mp4\">\n                      </source>\n                      Your browser does not support this video format.\n                  </video>\n              </ResponsiveEmbed>\n              </div>\n            }\n              <Row>\n              <Col>\n              <h6> {post.upvotes} likes </h6>\n              </Col>\n              <Col md={{ offset: \"7\" }}>\n\n              {(localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') !== post.user_email) &&\n              <div>\n              <Row>\n                <Col md={{ offset: \"5\" }}>\n                    {this.state.downvoted &&\n                      <ButtonGroup>\n                        <Button variant=\"light\" disabled>\n                          <IoIosArrowDropup style={{width: 30, height: 30}}/>\n                        </Button>\n                        <Button variant=\"light\" onClick={this.downvote}>\n                          <IoIosArrowDropdownCircle style={{width: 30, height: 30}}/>\n                        </Button>\n                      </ButtonGroup>\n                    }\n                    {this.state.upvoted &&\n                      <ButtonGroup>\n                        <Button variant=\"light\" onClick={this.upvote}>\n                          <IoIosArrowDropupCircle style={{width: 30, height: 30}}/>\n                        </Button>\n                        <Button variant=\"light\" disabled>\n                          <IoIosArrowDropdown style={{width: 30, height: 30}}/>\n                        </Button>\n                      </ButtonGroup>\n                    }\n                    {!this.state.downvoted && !this.state.upvoted && \n                      <ButtonGroup>\n                        <Button variant=\"light\" onClick={this.upvote}>\n                          <IoIosArrowDropup style={{width: 30, height: 30}}/>\n                        </Button>\n                        <Button variant=\"light\" onClick={this.downvote}>\n                          <IoIosArrowDropdown style={{width: 30, height: 30}}/>\n                        </Button>\n                      </ButtonGroup>\n                    }\n                </Col>\n              </Row>\n              </div>\n            }\n              </Col>\n              </Row>\n              <Row>\n              <Col>\n              {(localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === post.user_email) && !post.is_file &&\n              <Link to={`${post.id}/update`}><Button variant=\"outline-success\" style={{marginRight: 5}}>Update</Button></Link>\n              }\n              {(localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === post.user_email) &&\n              <Button variant=\"outline-danger\" onClick={() => {this.deletePost()}}>Delete</Button>\n            }\n            </Col>\n              </Row>\n            <hr className=\"my-4\" />\n              <this.commentBox />\n            <hr className=\"my-4\" />\n                {\n                  post.comments.map(comment => (\n                    comment.comment_level === 1 ?\n                          <Media className=\"mt-1\">\n                            <Media.Body>\n                              <h5>{ comment.commentor }</h5>\n                              <p>\n                                { comment.text.split(\"\\n\").map((i,key) => {\n                                  return <div key={key}>\n                                    {i}\n                                <p><small>\n                                  { comment.commentor !== \"deleted\" && comment.time }\n                                  {\n                                    (comment.commentor !== \"deleted\")\n                                    && <this.Upvote id={ comment.comment_id } liked={comment.liked} disliked={comment.disliked} currEmail={localStorage.getItem('userEmail')} commentEmail={comment.user_email}/>\n                                  }\n                                  { comment.commentor !== \"deleted\" && comment.comment_upvotes }\n                                  {\n                                    (comment.commentor !== \"deleted\")\n                                    && <this.Downvote id={ comment.comment_id } liked={comment.liked} disliked={comment.disliked} currEmail={localStorage.getItem('userEmail')} commentEmail={comment.user_email}/>\n                                  }\n                                  {\n                                    (localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === comment.user_email)\n                                    && <this.Delete id={ comment.comment_id }/>\n                                  }\n                                  \n                                  { comment.commentor !== \"deleted\" && <this.Reply id={ comment.comment_id }/> }\n                                </small></p>\n                                    </div>;\n                                }) }\n                              </p>\n                            </Media.Body>\n                          </Media>\n                    : comment.comment_level === 2 ?\n                        <Media className=\"ml-3\">\n                          <Media.Body>\n                            <h5>{ comment.commentor }</h5>\n                              <p>\n                                { comment.text.split(\"\\n\").map((i,key) => {\n                                    return <div key={key}>\n                                      {i}\n                                      <p><small>{ comment.commentor !== \"deleted\" && comment.time }\n                                      {\n                                            (comment.commentor !== \"deleted\")\n                                            && <this.Upvote id={ comment.comment_id } liked={comment.liked} disliked={comment.disliked} currEmail={localStorage.getItem('userEmail')} commentEmail={comment.user_email}/>\n                                          }\n                                          { comment.commentor !== \"deleted\" && comment.comment_upvotes }\n                                          {\n                                            (comment.commentor !== \"deleted\")\n                                            && <this.Downvote id={ comment.comment_id } liked={comment.liked} disliked={comment.disliked} currEmail={localStorage.getItem('userEmail')} commentEmail={comment.user_email}/>\n                                          }\n                                        {\n                                          (localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === comment.user_email)\n                                          && <this.Delete id={ comment.comment_id }/>\n                                        }\n                                        \n                                        { comment.commentor !== \"deleted\" && <this.Reply id={ comment.comment_id }/> }\n                                      </small></p>\n                                    </div>;\n                                }) }\n                              </p>\n                          </Media.Body>\n                        </Media>\n                        :\n                          <Media className=\"ml-5\">\n                            <Media.Body>\n                              <h5>{ comment.commentor }</h5>\n                                <p>\n                                  { comment.text.split(\"\\n\").map((i,key) => {\n                                      return <div key={key}>\n                                        {i}\n                                        <p><small>\n                                          { comment.commentor !== \"deleted\" && comment.time }\n                                          {\n                                            (comment.commentor !== \"deleted\")\n                                            && <this.Upvote id={ comment.comment_id } liked={comment.liked} disliked={comment.disliked} currEmail={localStorage.getItem('userEmail')} commentEmail={comment.user_email}/>\n                                          }\n                                          { comment.commentor !== \"deleted\" && comment.comment_upvotes }\n                                          {\n                                            (comment.commentor !== \"deleted\")\n                                            && <this.Downvote id={ comment.comment_id } liked={comment.liked} disliked={comment.disliked} currEmail={localStorage.getItem('userEmail')} commentEmail={comment.user_email}/>\n                                          }\n                                          \n                                          {\n                                            (localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === comment.user_email)\n                                            && <this.Delete id={ comment.comment_id }/>\n                                          }\n                                          \n                                          { comment.commentor !== \"deleted\" && <this.Reply id={ comment.comment_id }/> }\n                                        </small></p>\n                                      </div>;\n                                  }) }\n                                </p>\n                            </Media.Body>\n                          </Media>\n                  ))\n                }\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}