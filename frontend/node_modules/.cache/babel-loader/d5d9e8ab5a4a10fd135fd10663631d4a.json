{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/Mehak/Desktop/epiphany/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Col from'react-bootstrap/Col';import{Redirect}from\"react-router-dom\";import Alert from'react-bootstrap/Alert';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_super.call(this,props);_this.state={username:'',email:'',password:'',errorMessage:'',signedUp:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Signup,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _this2=this;var signupData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this.state.username===''||this.state.email===''||this.state.password===''){this.setState({errorMessage:\"Please fill in all fields.\"});}else{signupData={\"name\":this.state.username,\"email\":this.state.email,\"password\":this.state.password};console.log(signupData);axios.post('https://epiphany-test-three.herokuapp.com/signup',signupData).then(function(response){console.log(response);if(response.status===200){_this2.setState({signedUp:true});}else if(response.status===206){_this2.setState({errorMessage:\"This email has already been registered. Please confirm your email through the confirmation link sent via email.\"});}},function(error){console.log('Looks like there was a problem: \\n',error);});}event.preventDefault();case 2:case\"end\":return _context.stop();}}},_callee,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){var redirectTo=this.state.signedUp;if(redirectTo){return/*#__PURE__*/React.createElement(Redirect,{to:\"/email_sent\"});}return/*#__PURE__*/React.createElement(Col,{md:{span:\"4\",offset:\"4\"}},this.state.errorMessage&&/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},\" \",this.state.errorMessage,\" \"),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupUsername\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Name\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",name:\"username\",placeholder:\"Enter name\",username:this.state.username,onChange:this.handleChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email address\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",name:\"email\",placeholder:\"Enter email\",email:this.state.email,onChange:this.handleChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",name:\"password\",placeholder:\"Password\",password:this.state.password,onChange:this.handleChange})),/*#__PURE__*/React.createElement(Button,{variant:\"success\",type:\"submit\"},\"Signup\")));}}]);return Signup;}(Component);export default Signup;","map":null,"metadata":{},"sourceType":"module"}