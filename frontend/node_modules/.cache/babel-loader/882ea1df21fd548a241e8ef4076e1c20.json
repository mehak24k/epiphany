{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yx/epiphany/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yx/epiphany/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/yx/epiphany/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yx/epiphany/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yx/epiphany/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yx/epiphany/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import Badge from'react-bootstrap/Badge';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';var Post=/*#__PURE__*/function(_Component){_inherits(Post,_Component);var _super=_createSuper(Post);function Post(props){var _this;_classCallCheck(this,Post);_this=_super.call(this,props);_this.state={post:null};return _this;}_createClass(Post,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var params,post;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=this.props.match.params;_context.next=3;return axios.get(\"http://localhost:5000/posts/\".concat(params.postId));case 3:post=_context.sent.data;this.setState({post:post.json_post});case 5:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var post=this.state.post;if(post===null)return/*#__PURE__*/React.createElement(\"p\",null,\"Loading ...\");var text=post.body;console.log(post.tags);return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"jumbotron col-12\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-3\"},post.title),/*#__PURE__*/React.createElement(Row,null,post.tags&&post.tags.map(function(tag){return/*#__PURE__*/React.createElement(Col,{style:{paddingLeft:2,paddingRight:2},md:\"auto\"},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(Badge,{variant:\"info\"},tag.name)));})),/*#__PURE__*/React.createElement(\"hr\",{className:\"my-4\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Content:\"),/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},text.split(\"\\n\").map(function(i,key){return/*#__PURE__*/React.createElement(\"div\",{key:key},i);})))));}}]);return Post;}(Component);export default Post;","map":{"version":3,"sources":["/Users/yx/epiphany/frontend/src/Post/Post.js"],"names":["React","Component","axios","Badge","Row","Col","Post","props","state","post","params","match","get","postId","data","setState","json_post","text","body","console","log","tags","title","map","tag","paddingLeft","paddingRight","name","split","i","key"],"mappings":"ioBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,C,GAEMC,CAAAA,I,4FACJ,cAAYC,KAAZ,CAAmB,sCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,IADK,CAAb,CAFiB,aAKlB,C,+RAGkBC,M,CAAa,KAAKH,K,CAA3BI,K,CAASD,M,uBACGR,CAAAA,KAAK,CAACU,GAAN,uCAAyCF,MAAM,CAACG,MAAhD,E,QAAdJ,I,eAAyEK,I,CAC/E,KAAKC,QAAL,CAAc,CACZN,IAAI,CAAEA,IAAI,CAACO,SADC,CAAd,E,+MAKO,IACAP,CAAAA,IADA,CACQ,KAAKD,KADb,CACAC,IADA,CAEP,GAAIA,IAAI,GAAK,IAAb,CAAmB,mBAAO,2CAAP,CACnB,GAAIQ,CAAAA,IAAI,CAAGR,IAAI,CAACS,IAAhB,CACAC,OAAO,CAACC,GAAR,CAAYX,IAAI,CAACY,IAAjB,EACA,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,0BAAI,SAAS,CAAC,WAAd,EAA2BZ,IAAI,CAACa,KAAhC,CADF,cAEE,oBAAC,GAAD,MACCb,IAAI,CAACY,IAAL,EAAaZ,IAAI,CAACY,IAAL,CAAUE,GAAV,CAAc,SAAAC,GAAG,qBAC7B,oBAAC,GAAD,EAAK,KAAK,CAAE,CAAEC,WAAW,CAAE,CAAf,CAAkBC,YAAY,CAAE,CAAhC,CAAZ,CAAiD,EAAE,CAAC,MAApD,eACE,2CACA,oBAAC,KAAD,EAAO,OAAO,CAAC,MAAf,EAAuBF,GAAG,CAACG,IAA3B,CADA,CADF,CAD6B,EAAjB,CADd,CAFF,cAYE,0BAAI,SAAS,CAAC,MAAd,EAZF,cAaE,wCAbF,cAcI,yBAAG,SAAS,CAAC,MAAb,EACKV,IAAI,CAACW,KAAL,CAAW,IAAX,EAAiBL,GAAjB,CAAqB,SAACM,CAAD,CAAGC,GAAH,CAAW,CAC7B,mBAAO,2BAAK,GAAG,CAAEA,GAAV,EAAgBD,CAAhB,CAAP,CACH,CAFA,CADL,CAdJ,CADF,CADF,CADF,CA0BD,C,kBA/CgB5B,S,EAkDnB,cAAeK,CAAAA,IAAf","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport Badge from 'react-bootstrap/Badge'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: null,\n    };\n  }\n\n  async componentDidMount() {\n    const { match: { params } } = this.props;\n    const post = (await axios.get(`http://localhost:5000/posts/${params.postId}`)).data;\n    this.setState({\n      post: post.json_post,\n    });\n  }\n\n  render() {\n    const {post} = this.state;\n    if (post === null) return <p>Loading ...</p>;\n    var text = post.body\n    console.log(post.tags);\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"jumbotron col-12\">\n            <h1 className=\"display-3\">{post.title}</h1>\n            <Row>\n            {post.tags && post.tags.map(tag => (\n              <Col style={{ paddingLeft: 2, paddingRight: 2 }} md=\"auto\">\n                <h4>\n                <Badge variant=\"info\">{tag.name}</Badge>\n                </h4>\n              </Col>\n              ))\n            }\n            </Row>\n            <hr className=\"my-4\" />\n            <p>Content:</p>\n              <p className=\"lead\">\n                  {text.split(\"\\n\").map((i,key) => {\n                      return <div key={key}>{i}</div>;\n                  })}\n              </p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}