{"ast":null,"code":"var _jsxFileName = \"/Users/Mehak/Desktop/epiphany/frontend/src/Post/Post.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Comment from './Comment';\nimport Badge from 'react-bootstrap/Badge';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Media from 'react-bootstrap/Media';\nimport Form from 'react-bootstrap/Form';\nimport Alert from 'react-bootstrap/Alert';\nimport photo from '../Files/photo.jpg';\nimport thumbsup from '../Files/thumbsup.png';\nimport thumbsdown from '../Files/thumbsdown.png';\nimport heart from '../Files/heart.png';\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: null,\n      text: '',\n      postId: 0,\n      deleted: false,\n      commented: false,\n      upvoted: false,\n      downvoted: false,\n      errorMessage: ''\n    };\n    this.submit = this.submit.bind(this);\n    this.updateComment = this.updateComment.bind(this);\n    this.deletePost = this.deletePost.bind(this);\n    this.upvote = this.upvote.bind(this);\n    this.downvote = this.downvote.bind(this);\n  }\n\n  async componentDidMount() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n\n    if (localStorage.getItem(\"loggedIn\") === \"true\") {\n      let loginData = {\n        \"email\": localStorage.getItem(\"userEmail\")\n      };\n      axios.post(`http://localhost:5000/posts/${params.postId}`, loginData).then(response => {\n        console.log(response.data.data[0].liked);\n        this.setState({\n          upvoted: response.data.data[0].liked,\n          downvoted: response.data.data[0].disliked\n        });\n      }, error => {\n        console.log('Looks like there was a problem: \\n', error);\n      });\n    }\n\n    this.refreshPost();\n  }\n\n  async refreshPost() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    const post = (await axios.get(`http://localhost:5000/posts/${params.postId}`)).data;\n    this.setState({\n      post: post.json_post,\n      postId: params.postId,\n      commented: false\n    });\n  }\n\n  updateComment(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async submit(event) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"text\": this.state.text,\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"post_id\": params.postId\n    };\n    console.log(postData);\n    axios.post(`http://localhost:5000/posts/${params.postId}/comment`, postData).then(response => {\n      console.log(response);\n      this.setState({\n        commented: true\n      });\n      this.refreshPost();\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async deletePost() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"text\": this.state.text,\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"post_id\": params.postId\n    };\n    console.log(postData);\n    axios.post(`http://localhost:5000/posts/${params.postId}/delete`, postData).then(response => {\n      console.log(response);\n      this.setState({\n        deleted: true\n      });\n      this.refreshPost();\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n  }\n\n  async upvote(event) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"post_id\": params.postId\n    };\n    console.log(postData);\n    axios.post(`http://localhost:5000/posts/${params.postId}/upvote`, postData).then(response => {\n      console.log(response);\n\n      if (this.state.upvoted === true) {\n        this.setState({\n          upvoted: false\n        });\n      } else {\n        this.setState({\n          upvoted: true\n        });\n      }\n\n      this.refreshPost();\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async downvote(event) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"post_id\": params.postId\n    };\n    console.log(postData);\n    axios.post(`http://localhost:5000/posts/${params.postId}/downvote`, postData).then(response => {\n      console.log(response);\n\n      if (this.state.downvoted === true) {\n        this.setState({\n          downvoted: false\n        });\n      } else {\n        this.setState({\n          downvoted: true\n        });\n      }\n\n      this.refreshPost();\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    /*\n    const deleted = this.state.deleted;\n    const commented = this.state.commented;\n    const upvoted = this.state.upvoted;\n    const error = this.state.errorMessage;\n    if (deleted) {\n      return (\n        <Redirect to=\"/\" />\n      );\n    }\n    if (commented) {\n      this.refreshPost();\n    }\n    if (upvoted) {\n      this.refreshPost();\n    }\n    */\n    const {\n      post\n    } = this.state;\n    if (post === null) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 31\n      }\n    }, \"Loading ...\");\n    var text = post.body;\n    console.log(post.tags);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }\n    }, this.state.errorMessage && /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, \" \", this.state.errorMessage, \" \"), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"display-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, post.title), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }\n    }, post.tags && post.tags.map(tag => /*#__PURE__*/React.createElement(Col, {\n      style: {\n        paddingLeft: 2,\n        paddingRight: 2\n      },\n      md: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Badge, {\n      variant: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, tag.name))))), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"lead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }\n    }, text.split(\"\\n\").map((i, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 30\n        }\n      }, i);\n    })), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 15\n      }\n    }, \" \", post.upvotes, \" \", /*#__PURE__*/React.createElement(\"img\", {\n      src: heart,\n      style: {\n        height: 30,\n        width: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 35\n      }\n    }), \" \")), /*#__PURE__*/React.createElement(Col, {\n      md: {\n        offset: \"7\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }, localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') !== post.user_email && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: {\n        offset: \"5\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 15\n      }\n    }, this.state.downvoted && /*#__PURE__*/React.createElement(Button, {\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: thumbsup,\n      style: {\n        height: 30,\n        width: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }\n    })), !this.state.downvoted && /*#__PURE__*/React.createElement(Button, {\n      onClick: this.upvote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: thumbsup,\n      style: {\n        height: 30,\n        width: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 15\n      }\n    }, this.state.upvoted && /*#__PURE__*/React.createElement(Button, {\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: thumbsdown,\n      style: {\n        height: 30,\n        width: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 19\n      }\n    })), !this.state.upvoted && /*#__PURE__*/React.createElement(Button, {\n      onClick: this.downvote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: thumbsdown,\n      style: {\n        height: 30,\n        width: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 19\n      }\n    }))))))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 15\n      }\n    }, localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === post.user_email && /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `${post.id}/update`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 46\n      }\n    }, \"Update\")), /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-danger\",\n      onClick: () => {\n        this.deletePost();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 15\n      }\n    }, \"Delete\"))), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"textarea\",\n      name: \"text\",\n      placeholder: \"Any comments?\",\n      text: this.state.text,\n      onChange: this.updateComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 15\n      }\n    }, \"Comment\")), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }), post.comments.map(comment => comment.comment_level === 1 ? /*#__PURE__*/React.createElement(Media, {\n      className: \"mt-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Media.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 31\n      }\n    }, comment.commentor), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 31\n      }\n    }, comment.text.split(\"\\n\").map((i, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 42\n        }\n      }, i, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 40\n        }\n      }, \"reply \\xB7 \", comment.time)));\n    })))) : comment.comment_level === 2 ? /*#__PURE__*/React.createElement(Media, {\n      className: \"ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Media.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 29\n      }\n    }, comment.commentor), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 31\n      }\n    }, comment.text.split(\"\\n\").map((i, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 44\n        }\n      }, i, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 42\n        }\n      }, \"reply \\xB7 \", comment.time)));\n    })))) : /*#__PURE__*/React.createElement(Media, {\n      className: \"ml-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Media.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 31\n      }\n    }, comment.commentor), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 33\n      }\n    }, comment.text.split(\"\\n\").map((i, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 46\n        }\n      }, i, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 44\n        }\n      }, \"reply \\xB7 \", comment.time)));\n    }))))))));\n  }\n\n}\n\nexport default Post;","map":{"version":3,"sources":["/Users/Mehak/Desktop/epiphany/frontend/src/Post/Post.js"],"names":["React","Component","Redirect","Link","axios","Comment","Badge","Row","Col","Button","Media","Form","Alert","photo","thumbsup","thumbsdown","heart","Post","constructor","props","state","post","text","postId","deleted","commented","upvoted","downvoted","errorMessage","submit","bind","updateComment","deletePost","upvote","downvote","componentDidMount","match","params","localStorage","getItem","loginData","then","response","console","log","data","liked","setState","disliked","error","refreshPost","get","json_post","event","target","name","value","postData","preventDefault","render","body","tags","title","map","tag","paddingLeft","paddingRight","split","i","key","upvotes","height","width","offset","user_email","id","comments","comment","comment_level","commentor","time"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAGA,MAAMC,IAAN,SAAmBhB,SAAnB,CAA6B;AAC3BiB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,IADK;AAEXC,MAAAA,IAAI,EAAC,EAFM;AAGXC,MAAAA,MAAM,EAAE,CAHG;AAIXC,MAAAA,OAAO,EAAE,KAJE;AAKXC,MAAAA,SAAS,EAAE,KALA;AAMXC,MAAAA,OAAO,EAAE,KANE;AAOXC,MAAAA,SAAS,EAAE,KAPA;AAQXC,MAAAA,YAAY,EAAE;AARH,KAAb;AAUA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKE,UAAL,GAAkB,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKG,MAAL,GAAc,KAAKA,MAAL,CAAYH,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKI,QAAL,GAAgB,KAAKA,QAAL,CAAcJ,IAAd,CAAmB,IAAnB,CAAhB;AACD;;AAED,QAAMK,iBAAN,GAA0B;AACxB,UAAM;AAAEC,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKlB,KAAnC;;AACA,QAAImB,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,MAAzC,EAAiD;AAC/C,UAAIC,SAAS,GAAG;AAAC,iBAASF,YAAY,CAACC,OAAb,CAAqB,WAArB;AAAV,OAAhB;AACAnC,MAAAA,KAAK,CAACiB,IAAN,CAAY,+BAA8BgB,MAAM,CAACd,MAAO,EAAxD,EAA2DiB,SAA3D,EACCC,IADD,CACOC,QAAD,IAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmB,CAAnB,EAAsBC,KAAlC;AACA,aAAKC,QAAL,CAAc;AACZrB,UAAAA,OAAO,EAAEgB,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmB,CAAnB,EAAsBC,KADnB;AAEZnB,UAAAA,SAAS,EAAEe,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmB,CAAnB,EAAsBG;AAFrB,SAAd;AAID,OAPD,EAOIC,KAAD,IAAW;AACZN,QAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDK,KAAlD;AACD,OATD;AAUD;;AACD,SAAKC,WAAL;AACD;;AAED,QAAMA,WAAN,GAAoB;AAClB,UAAM;AAAEd,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKlB,KAAnC;AACA,UAAME,IAAI,GAAG,CAAC,MAAMjB,KAAK,CAAC+C,GAAN,CAAW,+BAA8Bd,MAAM,CAACd,MAAO,EAAvD,CAAP,EAAkEsB,IAA/E;AACA,SAAKE,QAAL,CAAc;AACZ1B,MAAAA,IAAI,EAAEA,IAAI,CAAC+B,SADC;AAEZ7B,MAAAA,MAAM,EAAEc,MAAM,CAACd,MAFH;AAGZE,MAAAA,SAAS,EAAE;AAHC,KAAd;AAKD;;AAEDM,EAAAA,aAAa,CAACsB,KAAD,EAAQ;AACnB,SAAKN,QAAL,CAAc;AACV,OAACM,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AADxB,KAAd;AAGD;;AAED,QAAM3B,MAAN,CAAawB,KAAb,EAAoB;AAClB,UAAM;AAAEjB,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKlB,KAAnC;AACA,QAAIsC,QAAQ,GAAG;AAAC,cAAQ,KAAKrC,KAAL,CAAWE,IAApB;AAA0B,oBAAcgB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAxC;AAA2E,iBAAWF,MAAM,CAACd;AAA7F,KAAf;AACAoB,IAAAA,OAAO,CAACC,GAAR,CAAYa,QAAZ;AACArD,IAAAA,KAAK,CAACiB,IAAN,CAAY,+BAA8BgB,MAAM,CAACd,MAAO,UAAxD,EAAmEkC,QAAnE,EACChB,IADD,CACOC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,WAAKK,QAAL,CAAc;AACZtB,QAAAA,SAAS,EAAE;AADC,OAAd;AAGA,WAAKyB,WAAL;AACD,KAPD,EAOID,KAAD,IAAW;AACZN,MAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDK,KAAlD;AACD,KATD;AAUAI,IAAAA,KAAK,CAACK,cAAN;AACD;;AAED,QAAM1B,UAAN,GAAmB;AACjB,UAAM;AAAEI,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKlB,KAAnC;AACA,QAAIsC,QAAQ,GAAG;AAAC,cAAQ,KAAKrC,KAAL,CAAWE,IAApB;AAA0B,oBAAcgB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAxC;AAA2E,iBAAWF,MAAM,CAACd;AAA7F,KAAf;AACAoB,IAAAA,OAAO,CAACC,GAAR,CAAYa,QAAZ;AACArD,IAAAA,KAAK,CAACiB,IAAN,CAAY,+BAA8BgB,MAAM,CAACd,MAAO,SAAxD,EAAkEkC,QAAlE,EACChB,IADD,CACOC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,WAAKK,QAAL,CAAc;AACZvB,QAAAA,OAAO,EAAE;AADG,OAAd;AAGA,WAAK0B,WAAL;AACD,KAPD,EAOID,KAAD,IAAW;AACZN,MAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDK,KAAlD;AACD,KATD;AAUD;;AAED,QAAMhB,MAAN,CAAaoB,KAAb,EAAoB;AAClB,UAAM;AAAEjB,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKlB,KAAnC;AACA,QAAIsC,QAAQ,GAAG;AAAC,oBAAcnB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAf;AAAkD,iBAAWF,MAAM,CAACd;AAApE,KAAf;AACAoB,IAAAA,OAAO,CAACC,GAAR,CAAYa,QAAZ;AACArD,IAAAA,KAAK,CAACiB,IAAN,CAAY,+BAA8BgB,MAAM,CAACd,MAAO,SAAxD,EAAkEkC,QAAlE,EACChB,IADD,CACOC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,UAAI,KAAKtB,KAAL,CAAWM,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,aAAKqB,QAAL,CAAc;AACZrB,UAAAA,OAAO,EAAE;AADG,SAAd;AAGD,OAJD,MAIO;AACL,aAAKqB,QAAL,CAAc;AACZrB,UAAAA,OAAO,EAAE;AADG,SAAd;AAGD;;AACC,WAAKwB,WAAL;AACH,KAbD,EAaID,KAAD,IAAW;AACZN,MAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDK,KAAlD;AACD,KAfD;AAgBAI,IAAAA,KAAK,CAACK,cAAN;AACD;;AAED,QAAMxB,QAAN,CAAemB,KAAf,EAAsB;AACpB,UAAM;AAAEjB,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKlB,KAAnC;AACA,QAAIsC,QAAQ,GAAG;AAAC,oBAAcnB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAf;AAAkD,iBAAWF,MAAM,CAACd;AAApE,KAAf;AACAoB,IAAAA,OAAO,CAACC,GAAR,CAAYa,QAAZ;AACArD,IAAAA,KAAK,CAACiB,IAAN,CAAY,+BAA8BgB,MAAM,CAACd,MAAO,WAAxD,EAAoEkC,QAApE,EACChB,IADD,CACOC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,UAAI,KAAKtB,KAAL,CAAWO,SAAX,KAAyB,IAA7B,EAAmC;AACjC,aAAKoB,QAAL,CAAc;AACZpB,UAAAA,SAAS,EAAE;AADC,SAAd;AAGD,OAJD,MAIO;AACL,aAAKoB,QAAL,CAAc;AACZpB,UAAAA,SAAS,EAAE;AADC,SAAd;AAGD;;AACC,WAAKuB,WAAL;AACD,KAbH,EAaMD,KAAD,IAAW;AACdN,MAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDK,KAAlD;AACD,KAfD;AAgBAI,IAAAA,KAAK,CAACK,cAAN;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP;;;;;;;;;;;;;;;;;AAiBA,UAAM;AAACtC,MAAAA;AAAD,QAAS,KAAKD,KAApB;AACA,QAAIC,IAAI,KAAK,IAAb,EAAmB,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAP;AACnB,QAAIC,IAAI,GAAGD,IAAI,CAACuC,IAAhB;AACAjB,IAAAA,OAAO,CAACC,GAAR,CAAYvB,IAAI,CAACwC,IAAjB;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKzC,KAAL,CAAWQ,YAAX,iBACA,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAA2B,KAAKR,KAAL,CAAWQ,YAAtC,MAFF,eAGE;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BP,IAAI,CAACyC,KAAhC,CAHF,eAKE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCzC,IAAI,CAACwC,IAAL,IAAaxC,IAAI,CAACwC,IAAL,CAAUE,GAAV,CAAcC,GAAG,iBAC7B,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,WAAW,EAAE,CAAf;AAAkBC,QAAAA,YAAY,EAAE;AAAhC,OAAZ;AAAiD,MAAA,EAAE,EAAC,MAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuBF,GAAG,CAACT,IAA3B,CADA,CADF,CADY,CADd,CALF,eAeE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfF,eAgBI;AAAG,MAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKjC,IAAI,CAAC6C,KAAL,CAAW,IAAX,EAAiBJ,GAAjB,CAAqB,CAACK,CAAD,EAAGC,GAAH,KAAW;AAC7B,0BAAO;AAAK,QAAA,GAAG,EAAEA,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgBD,CAAhB,CAAP;AACH,KAFA,CADL,CAhBJ,eAqBI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAM/C,IAAI,CAACiD,OAAX,oBAAoB;AAAK,MAAA,GAAG,EAAEtD,KAAV;AAAiB,MAAA,KAAK,EAAE;AAACuD,QAAAA,MAAM,EAAE,EAAT;AAAaC,QAAAA,KAAK,EAAE;AAApB,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAApB,MADA,CADA,eAIA,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEEnC,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,MAArC,IAA+CD,YAAY,CAACC,OAAb,CAAqB,WAArB,MAAsClB,IAAI,CAACqD,UAA3F,iBACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAED,QAAAA,MAAM,EAAE;AAAV,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKrD,KAAL,CAAWO,SAAX,iBACC,oBAAC,MAAD;AAAQ,MAAA,QAAQ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEb,QAAV;AAAoB,MAAA,KAAK,EAAE;AAACyD,QAAAA,MAAM,EAAE,EAAT;AAAaC,QAAAA,KAAK,EAAE;AAApB,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,EAMC,CAAC,KAAKpD,KAAL,CAAWO,SAAZ,iBACC,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKM,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEnB,QAAV;AAAoB,MAAA,KAAK,EAAE;AAACyD,QAAAA,MAAM,EAAE,EAAT;AAAaC,QAAAA,KAAK,EAAE;AAApB,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAPF,CADA,eAaA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKpD,KAAL,CAAWM,OAAX,iBACC,oBAAC,MAAD;AAAQ,MAAA,QAAQ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEX,UAAV;AAAsB,MAAA,KAAK,EAAE;AAACwD,QAAAA,MAAM,EAAE,EAAT;AAAaC,QAAAA,KAAK,EAAE;AAApB,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,EAMC,CAAC,KAAKpD,KAAL,CAAWM,OAAZ,iBACC,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKQ,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEnB,UAAV;AAAsB,MAAA,KAAK,EAAE;AAACwD,QAAAA,MAAM,EAAE,EAAT;AAAaC,QAAAA,KAAK,EAAE;AAApB,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAPF,CAbA,CADA,CAHA,CAJA,CArBJ,eA2DI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACElC,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,MAArC,IAA+CD,YAAY,CAACC,OAAb,CAAqB,WAArB,MAAsClB,IAAI,CAACqD,UAA3F,iBACD,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAG,GAAErD,IAAI,CAACsD,EAAG,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA+B,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA/B,CADA,eAEA,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,gBAAhB;AAAiC,MAAA,OAAO,EAAE,MAAM;AAAC,aAAK3C,UAAL;AAAkB,OAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,CAFA,CA3DJ,eAmEE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnEF,eAoEE,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKH,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,EAAE,EAAC,UAAjB;AAA4B,MAAA,IAAI,EAAC,MAAjC;AAAwC,MAAA,WAAW,EAAC,eAApD;AAAoE,MAAA,IAAI,EAAE,KAAKT,KAAL,CAAWE,IAArF;AAA2F,MAAA,QAAQ,EAAE,KAAKS,aAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,IAAI,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,CApEF,eA2EE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3EF,EA6EQV,IAAI,CAACuD,QAAL,CAAcb,GAAd,CAAkBc,OAAO,IACvBA,OAAO,CAACC,aAAR,KAA0B,CAA1B,gBACM,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMD,OAAO,CAACE,SAAd,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIF,OAAO,CAACvD,IAAR,CAAa6C,KAAb,CAAmB,IAAnB,EAAyBJ,GAAzB,CAA6B,CAACK,CAAD,EAAGC,GAAH,KAAW;AACxC,0BAAO;AAAK,QAAA,GAAG,EAAEA,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACJD,CADI,eAEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiBS,OAAO,CAACG,IAAzB,CAAH,CAFK,CAAP;AAID,KALC,CADJ,CAFF,CADF,CADN,GAcEH,OAAO,CAACC,aAAR,KAA0B,CAA1B,gBACE,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMD,OAAO,CAACE,SAAd,CADF,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIF,OAAO,CAACvD,IAAR,CAAa6C,KAAb,CAAmB,IAAnB,EAAyBJ,GAAzB,CAA6B,CAACK,CAAD,EAAGC,GAAH,KAAW;AACtC,0BAAO;AAAK,QAAA,GAAG,EAAEA,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACJD,CADI,eAEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiBS,OAAO,CAACG,IAAzB,CAAH,CAFK,CAAP;AAIH,KALC,CADJ,CAFJ,CADF,CADF,gBAeI,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMH,OAAO,CAACE,SAAd,CADF,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIF,OAAO,CAACvD,IAAR,CAAa6C,KAAb,CAAmB,IAAnB,EAAyBJ,GAAzB,CAA6B,CAACK,CAAD,EAAGC,GAAH,KAAW;AACtC,0BAAO;AAAK,QAAA,GAAG,EAAEA,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACJD,CADI,eAEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiBS,OAAO,CAACG,IAAzB,CAAH,CAFK,CAAP;AAIH,KALC,CADJ,CAFJ,CADF,CA9BR,CA7ER,CADF,CADF,CADF;AAiID;;AA5R0B;;AA+R7B,eAAe/D,IAAf","sourcesContent":["import React, {Component} from 'react';\nimport { Redirect } from 'react-router-dom';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport Comment from './Comment'\nimport Badge from 'react-bootstrap/Badge'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\nimport Media from 'react-bootstrap/Media'\nimport Form from 'react-bootstrap/Form'\nimport Alert from 'react-bootstrap/Alert'\nimport photo from '../Files/photo.jpg'\nimport thumbsup from '../Files/thumbsup.png'\nimport thumbsdown from '../Files/thumbsdown.png'\nimport heart from '../Files/heart.png'\n\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: null,\n      text:'',\n      postId: 0,\n      deleted: false,\n      commented: false,\n      upvoted: false,\n      downvoted: false,\n      errorMessage: '',\n    };\n    this.submit = this.submit.bind(this);\n    this.updateComment = this.updateComment.bind(this);\n    this.deletePost = this.deletePost.bind(this);\n    this.upvote = this.upvote.bind(this);\n    this.downvote = this.downvote.bind(this);\n  }\n\n  async componentDidMount() {\n    const { match: { params } } = this.props;\n    if (localStorage.getItem(\"loggedIn\") === \"true\") {\n      let loginData = {\"email\": localStorage.getItem(\"userEmail\")}\n      axios.post(`http://localhost:5000/posts/${params.postId}`, loginData)\n      .then((response) => {\n        console.log(response.data.data[0].liked);\n        this.setState({\n          upvoted: response.data.data[0].liked,\n          downvoted: response.data.data[0].disliked,\n        });\n      }, (error) => {\n        console.log('Looks like there was a problem: \\n', error);\n      });\n    }\n    this.refreshPost()\n  }\n\n  async refreshPost() {\n    const { match: { params } } = this.props;\n    const post = (await axios.get(`http://localhost:5000/posts/${params.postId}`)).data;\n    this.setState({\n      post: post.json_post,\n      postId: params.postId,\n      commented: false,\n    });\n  }\n\n  updateComment(event) {\n    this.setState({\n        [event.target.name]: event.target.value\n      });\n  }\n\n  async submit(event) {\n    const { match: { params } } = this.props;\n    let postData = {\"text\": this.state.text, \"user_email\": localStorage.getItem('userEmail'), \"post_id\": params.postId}\n    console.log(postData);\n    axios.post(`http://localhost:5000/posts/${params.postId}/comment`, postData)\n    .then((response) => {\n      console.log(response);\n      this.setState({\n        commented: true,\n      })\n      this.refreshPost();\n    }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async deletePost() {\n    const { match: { params } } = this.props;\n    let postData = {\"text\": this.state.text, \"user_email\": localStorage.getItem('userEmail'), \"post_id\": params.postId}\n    console.log(postData);\n    axios.post(`http://localhost:5000/posts/${params.postId}/delete`, postData)\n    .then((response) => {\n      console.log(response);\n      this.setState({\n        deleted: true,\n      })\n      this.refreshPost();\n    }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n  }\n\n  async upvote(event) {\n    const { match: { params } } = this.props;\n    let postData = {\"user_email\": localStorage.getItem('userEmail'), \"post_id\": params.postId}\n    console.log(postData);\n    axios.post(`http://localhost:5000/posts/${params.postId}/upvote`, postData)\n    .then((response) => {\n      console.log(response);\n      if (this.state.upvoted === true) {\n        this.setState({\n          upvoted: false,\n        })\n      } else {\n        this.setState({\n          upvoted: true,\n        })\n      }\n        this.refreshPost();\n    }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  async downvote(event) {\n    const { match: { params } } = this.props;\n    let postData = {\"user_email\": localStorage.getItem('userEmail'), \"post_id\": params.postId}\n    console.log(postData);\n    axios.post(`http://localhost:5000/posts/${params.postId}/downvote`, postData)\n    .then((response) => {\n      console.log(response);\n      if (this.state.downvoted === true) {\n        this.setState({\n          downvoted: false,\n        })\n      } else {\n        this.setState({\n          downvoted: true,\n        })\n      }\n        this.refreshPost();\n      }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    /*\n    const deleted = this.state.deleted;\n    const commented = this.state.commented;\n    const upvoted = this.state.upvoted;\n    const error = this.state.errorMessage;\n    if (deleted) {\n      return (\n        <Redirect to=\"/\" />\n      );\n    }\n    if (commented) {\n      this.refreshPost();\n    }\n    if (upvoted) {\n      this.refreshPost();\n    }\n    */\n    const {post} = this.state;\n    if (post === null) return <p>Loading ...</p>;\n    var text = post.body\n    console.log(post.tags);\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"jumbotron col-12\">\n          { this.state.errorMessage &&\n            <Alert variant='danger'> { this.state.errorMessage } </Alert> }\n            <h1 className=\"display-3\">{post.title}</h1>\n\n            <Row>\n            {post.tags && post.tags.map(tag => (\n              <Col style={{ paddingLeft: 2, paddingRight: 2 }} md=\"auto\">\n                <h4>\n                <Badge variant=\"info\">{tag.name}</Badge>\n                </h4>\n              </Col>\n              ))\n            }\n            </Row>\n            <hr className=\"my-4\" />\n              <p className=\"lead\">\n                  {text.split(\"\\n\").map((i,key) => {\n                      return <div key={key}>{i}</div>;\n                  })}\n              </p>\n              <Row>\n              <Col>\n              <h2> {post.upvotes} <img src={heart} style={{height: 30, width: 30}}></img> </h2>\n              </Col>\n              <Col md={{ offset: \"7\" }}>\n\n              {(localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') !== post.user_email) &&\n              <div>\n              <Row>\n              <Col md={{ offset: \"5\" }}>\n              {this.state.downvoted &&\n                <Button disabled>\n                  <img src={thumbsup} style={{height: 30, width: 30}}></img>\n                </Button>\n              }\n              {!this.state.downvoted &&\n                <Button onClick={this.upvote}>\n                  <img src={thumbsup} style={{height: 30, width: 30}}></img>\n                </Button>\n              }\n              </Col>\n              <Col>\n              {this.state.upvoted &&\n                <Button disabled>\n                  <img src={thumbsdown} style={{height: 30, width: 30}}></img>\n                </Button>\n              }\n              {!this.state.upvoted &&\n                <Button onClick={this.downvote}>\n                  <img src={thumbsdown} style={{height: 30, width: 30}}></img>\n                </Button>\n              }\n              </Col>\n              </Row>\n              </div>\n            }\n              </Col>\n              </Row>\n              <Row>\n              {(localStorage.getItem('loggedIn') === \"true\" && localStorage.getItem('userEmail') === post.user_email) &&\n              <Col>\n              <Link to={`${post.id}/update`}><Button variant=\"outline-success\">Update</Button></Link>\n              <Button variant=\"outline-danger\" onClick={() => {this.deletePost()}}>Delete</Button>\n              </Col>\n            }\n              </Row>\n            <hr className=\"my-4\" />\n            <Form onSubmit={this.submit}>\n              <Form.Group controlId=\"text\">\n                  <Form.Control as=\"textarea\" name=\"text\" placeholder=\"Any comments?\" text={this.state.text} onChange={this.updateComment} />\n              </Form.Group>\n              <Button variant=\"success\" type=\"submit\">Comment</Button>\n            </Form>\n\n            <hr className=\"my-4\" />\n                {\n                  post.comments.map(comment => (\n                    comment.comment_level === 1 ?\n                          <Media className=\"mt-1\">\n                            <Media.Body>\n                              <h5>{ comment.commentor }</h5>\n                              <p>\n                                { comment.text.split(\"\\n\").map((i,key) => {\n                                  return <div key={key}>\n                                    {i}\n                                    <p><small>reply · { comment.time }</small></p>\n                                    </div>;\n                                }) }\n                              </p>\n                            </Media.Body>\n                          </Media>\n                    : comment.comment_level === 2 ?\n                        <Media className=\"ml-3\">\n                          <Media.Body>\n                            <h5>{ comment.commentor }</h5>\n                              <p>\n                                { comment.text.split(\"\\n\").map((i,key) => {\n                                    return <div key={key}>\n                                      {i}\n                                      <p><small>reply · { comment.time }</small></p>\n                                    </div>;\n                                }) }\n                              </p>\n                          </Media.Body>\n                        </Media>\n                        :\n                          <Media className=\"ml-5\">\n                            <Media.Body>\n                              <h5>{ comment.commentor }</h5>\n                                <p>\n                                  { comment.text.split(\"\\n\").map((i,key) => {\n                                      return <div key={key}>\n                                        {i}\n                                        <p><small>reply · { comment.time }</small></p>\n                                      </div>;\n                                  }) }\n                                </p>\n                            </Media.Body>\n                          </Media>\n                  ))\n                }\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}