{"ast":null,"code":"var _jsxFileName = \"/Users/Mehak/Desktop/epiphany/frontend/src/Post/Post.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Comment from './Comment';\nimport Badge from 'react-bootstrap/Badge';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: null,\n      text: ''\n    };\n    this.submit = this.submit.bind(this);\n    this.updateComment = this.updateComment.bind(this);\n  }\n\n  async componentDidMount() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    const post = (await axios.get(`http://localhost:5000/posts/${params.postId}`)).data;\n    this.setState({\n      post: post.json_post\n    });\n  }\n\n  updateComment(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async submit(event) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let postData = {\n      \"text\": this.state.text,\n      \"user_email\": localStorage.getItem('userEmail'),\n      \"post_id\": params.postId\n    };\n    console.log(postData);\n    axios.post(`http://localhost:5000/posts/${params.postId}/comment`, postData).then(response => {\n      console.log(response);\n    }, error => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    const {\n      post\n    } = this.state;\n    if (post === null) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 31\n      }\n    }, \"Loading ...\");\n    var text = post.body;\n    console.log(post.tags);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"display-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, post.title), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, post.tags && post.tags.map(tag => /*#__PURE__*/React.createElement(Col, {\n      style: {\n        paddingLeft: 2,\n        paddingRight: 2\n      },\n      md: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Badge, {\n      variant: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, tag.name))))), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, \"Content:\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"lead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, text.split(\"\\n\").map((i, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 30\n        }\n      }, i);\n    })), localStorage.getItem('loggedIn') === \"true\" && /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 63\n      }\n    }, \"Update\"), localStorage.getItem('loggedIn') === \"true\" && /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 63\n      }\n    }, \"Delete\"), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"textarea\",\n      name: \"text\",\n      placeholder: \"Any comments?\",\n      text: this.state.text,\n      onChange: this.updateComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, \"Comment\")), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, \"Discussion:\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"lead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, post.comments && post.comments.map((comment, idx) => /*#__PURE__*/React.createElement(\"p\", {\n      className: \"lead\",\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, comment))))));\n  }\n\n}\n\nexport default Post;","map":{"version":3,"sources":["/Users/Mehak/Desktop/epiphany/frontend/src/Post/Post.js"],"names":["React","Component","axios","Comment","Badge","Row","Col","Button","Form","Post","constructor","props","state","post","text","submit","bind","updateComment","componentDidMount","match","params","get","postId","data","setState","json_post","event","target","name","value","postData","localStorage","getItem","console","log","then","response","error","preventDefault","render","body","tags","title","map","tag","paddingLeft","paddingRight","split","i","key","comments","comment","idx"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport Comment from './Comment'\nimport Badge from 'react-bootstrap/Badge'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\nimport Form from 'react-bootstrap/Form'\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: null,\n      text:'',\n    };\n    this.submit = this.submit.bind(this);\n    this.updateComment = this.updateComment.bind(this);\n\n  }\n\n  async componentDidMount() {\n    const { match: { params } } = this.props;\n    const post = (await axios.get(`http://localhost:5000/posts/${params.postId}`)).data;\n    this.setState({\n      post: post.json_post,\n    });\n  }\n\n  updateComment(event) {\n    this.setState({\n        [event.target.name]: event.target.value\n      });\n  }\n\n  async submit(event) {\n    const { match: { params } } = this.props;\n    let postData = {\"text\": this.state.text, \"user_email\": localStorage.getItem('userEmail'), \"post_id\": params.postId}\n    console.log(postData);\n    axios.post(`http://localhost:5000/posts/${params.postId}/comment`, postData)\n    .then((response) => {\n      console.log(response);\n    }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n      event.preventDefault();\n  }\n\n\n  render() {\n    const {post} = this.state;\n    if (post === null) return <p>Loading ...</p>;\n    var text = post.body\n    console.log(post.tags);\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"jumbotron col-12\">\n            <h1 className=\"display-3\">{post.title}</h1>\n            <Row>\n            {post.tags && post.tags.map(tag => (\n              <Col style={{ paddingLeft: 2, paddingRight: 2 }} md=\"auto\">\n                <h4>\n                <Badge variant=\"info\">{tag.name}</Badge>\n                </h4>\n              </Col>\n              ))\n            }\n            </Row>\n            <hr className=\"my-4\" />\n            <p>Content:</p>\n              <p className=\"lead\">\n                  {text.split(\"\\n\").map((i,key) => {\n                      return <div key={key}>{i}</div>;\n                  })}\n              </p>\n              {localStorage.getItem('loggedIn') === \"true\" && <Button variant=\"outline-success\">Update</Button>}\n              {localStorage.getItem('loggedIn') === \"true\" && <Button variant=\"outline-danger\">Delete</Button>}\n            <hr className=\"my-4\" />\n            <Form onSubmit={this.submit}>\n              <Form.Group controlId=\"text\">\n                  <Form.Control as=\"textarea\" name=\"text\" placeholder=\"Any comments?\" text={this.state.text} onChange={this.updateComment} />\n              </Form.Group>\n              <Button variant=\"success\" type=\"submit\">Comment</Button>\n            </Form>\n            <hr className=\"my-4\" />\n            <p>Discussion:</p>\n              <p className=\"lead\">\n              {\n                post.comments && post.comments.map((comment, idx) => (\n                  <p className=\"lead\" key={idx}>{comment}</p>\n                ))\n              }\n              </p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}