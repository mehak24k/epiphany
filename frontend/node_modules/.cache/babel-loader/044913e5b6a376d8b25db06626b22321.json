{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Mehak/Desktop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Mehak/Desktop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/Mehak/Desktop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/Mehak/Desktop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Mehak/Desktop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Mehak/Desktop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/Mehak/Desktop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/Mehak/Desktop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Col from'react-bootstrap/Col';import{Redirect}from\"react-router-dom\";var NewPost=/*#__PURE__*/function(_Component){_inherits(NewPost,_Component);var _super=_createSuper(NewPost);function NewPost(props){var _this;_classCallCheck(this,NewPost);_this=_super.call(this,props);_this.state={title:'',body:'',posted:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(NewPost,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _this2=this;var postData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:postData={\"title\":this.state.title,\"body\":this.state.body,\"user\":localStorage.getItem(\"userEmail\")};axios.post('http://localhost:5000/create',postData).then(function(response){console.log(response);_this2.setState({posted:true});},function(error){console.log('Looks like there was a problem: \\n',error);});event.preventDefault();case 3:case\"end\":return _context.stop();}}},_callee,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){var redirectTo=this.state.posted;if(redirectTo){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}return/*#__PURE__*/React.createElement(Col,{style:{paddingLeft:200,paddingRight:200}},/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupTitle\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Title\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",name:\"title\",placeholder:\"Enter title\",title:this.state.title,onChange:this.handleChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formGroupPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Body\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",rows:\"15\",name:\"body\",placeholder:\"Body\",password:this.state.body,onChange:this.handleChange})),/*#__PURE__*/React.createElement(Button,{variant:\"success\",type:\"submit\"},\"Submit\")));}}]);return NewPost;}(Component);export default NewPost;","map":{"version":3,"sources":["/Users/Mehak/Desktop/frontend/src/CreatePosts/NewPost.js"],"names":["React","Component","axios","Form","Button","Col","Redirect","NewPost","props","state","title","body","posted","handleChange","bind","handleSubmit","event","setState","target","name","value","postData","localStorage","getItem","post","then","response","console","log","error","preventDefault","redirectTo","paddingLeft","paddingRight"],"mappings":"+pCAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,GAEMC,CAAAA,O,kGACJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,EADI,CAEXC,IAAI,CAAC,EAFM,CAGXC,MAAM,CAAE,KAHG,CAAb,CAMA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CATiB,aAUlB,C,sEAEYE,K,CAAO,CAClB,KAAKC,QAAL,oBACGD,KAAK,CAACE,MAAN,CAAaC,IADhB,CACuBH,KAAK,CAACE,MAAN,CAAaE,KADpC,GAGD,C,kIAEkBJ,K,+IACbK,Q,CAAW,CAAC,QAAS,KAAKZ,KAAL,CAAWC,KAArB,CAA4B,OAAQ,KAAKD,KAAL,CAAWE,IAA/C,CAAqD,OAAQW,YAAY,CAACC,OAAb,CAAqB,WAArB,CAA7D,C,CACfrB,KAAK,CAACsB,IAAN,CAAW,8BAAX,CAA2CH,QAA3C,EACCI,IADD,CACM,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA,MAAI,CAACT,QAAL,CAAc,CACZL,MAAM,CAAE,IADI,CAAd,EAGD,CAND,CAMG,SAACiB,KAAD,CAAW,CACZF,OAAO,CAACC,GAAR,CAAY,oCAAZ,CAAkDC,KAAlD,EACD,CARD,EASEb,KAAK,CAACc,cAAN,G,kMAGK,CACP,GAAMC,CAAAA,UAAU,CAAG,KAAKtB,KAAL,CAAWG,MAA9B,CACA,GAAImB,UAAJ,CAAgB,CACZ,mBACE,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EADF,CAGH,CACD,mBACE,oBAAC,GAAD,EAAK,KAAK,CAAE,CAACC,WAAW,CAAE,GAAd,CAAmBC,YAAY,CAAE,GAAjC,CAAZ,eACE,oBAAC,IAAD,EAAM,QAAQ,CAAE,KAAKlB,YAArB,eACE,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,gBAAtB,eACI,oBAAC,IAAD,CAAM,KAAN,cADJ,cAEI,oBAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,MAAnB,CAA0B,IAAI,CAAC,OAA/B,CAAuC,WAAW,CAAC,aAAnD,CAAiE,KAAK,CAAE,KAAKN,KAAL,CAAWC,KAAnF,CAA0F,QAAQ,CAAE,KAAKG,YAAzG,EAFJ,CADF,cAKI,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,mBAAtB,eACE,oBAAC,IAAD,CAAM,KAAN,aADF,cAEE,oBAAC,IAAD,CAAM,OAAN,EAAc,EAAE,CAAC,UAAjB,CAA4B,IAAI,CAAC,IAAjC,CAAsC,IAAI,CAAC,MAA3C,CAAkD,WAAW,CAAC,MAA9D,CAAqE,QAAQ,CAAE,KAAKJ,KAAL,CAAWE,IAA1F,CAAgG,QAAQ,CAAE,KAAKE,YAA/G,EAFF,CALJ,cASE,oBAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,WATF,CADF,CADF,CAeD,C,qBAvDmBZ,S,EA0DtB,cAAeM,CAAAA,OAAf","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Col from 'react-bootstrap/Col'\nimport { Redirect } from \"react-router-dom\";\n\nclass NewPost extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      body:'',\n      posted: false,\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    let postData = {\"title\": this.state.title, \"body\": this.state.body, \"user\": localStorage.getItem(\"userEmail\")}\n    axios.post('http://localhost:5000/create', postData)\n    .then((response) => {\n      console.log(response);\n      this.setState({\n        posted: true,\n      })\n    }, (error) => {\n      console.log('Looks like there was a problem: \\n', error);\n    });\n      event.preventDefault();\n  }\n\n  render() {\n    const redirectTo = this.state.posted;\n    if (redirectTo) {\n        return (\n          <Redirect to=\"/\" />\n        );\n    }\n    return (\n      <Col style={{paddingLeft: 200, paddingRight: 200}}>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group controlId=\"formGroupTitle\">\n              <Form.Label>Title</Form.Label>\n              <Form.Control type=\"text\" name=\"title\" placeholder=\"Enter title\" title={this.state.title} onChange={this.handleChange} />\n          </Form.Group>\n            <Form.Group controlId=\"formGroupPassword\">\n              <Form.Label>Body</Form.Label>\n              <Form.Control as=\"textarea\" rows=\"15\" name=\"body\" placeholder=\"Body\" password={this.state.body} onChange={this.handleChange}/>\n          </Form.Group>\n          <Button variant=\"success\" type=\"submit\">Submit</Button>\n        </Form>\n      </Col>\n    );\n  }\n}\n\nexport default NewPost;\n"]},"metadata":{},"sourceType":"module"}